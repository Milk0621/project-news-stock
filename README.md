# News Stock

실시간 뉴스 감성 분석과 KOSPI 지수 예측을 통해  
**시장 심리와 주가지수 변동 간의 관계를 시각화하는 웹 플랫폼**입니다.

---

## 🎯 프로젝트 개요

- **뉴스 감성 분석**과 **주가지수(LSTM 기반) 예측**을 독립적으로 수행
- 사용자에게 두 결과를 **비교·해석할 수 있는 UI** 제공
- **날짜별 분석 페이지**에서 뉴스 분위기와 종가를 함께 시각화
- 예측 결과는 **WebSocket 기반 실시간 알림**으로 제공

---

## 🗂 주요 기능
### 📰 뉴스 수집 및 감성 분석

- **Selenium + BeautifulSoup**으로 금융 뉴스 실시간 수집
- 초기에는 LSTM 기반 감성 분석을 시도했으나, 도메인 한계 발생:
  - 복합 문장 해석 부족
  - 금융 용어 처리 미흡
- → 개선 방안으로 **KorFinBERT** 모델 적용:
  - 한국 금융 뉴스 특화 BERT 모델
  - PyTorch 기반 모델을 TensorFlow 환경에 맞게 변환 후 적용
- KorFinBERT를 통해 **금융 문맥 해석 정확도 향상**

---

### 📊 날짜별 분석 페이지

뉴스 감성 점수와 KOSPI 종가의 관계를 시각화한 기능
- 하루 수집 뉴스의 긍정 비율(%) 계산
- 해당 날짜의 KOSPI 종가와 함께 차트로 출력
- 사용자가 **시장 심리와 주가 간 상관관계 파악** 가능

---

### 📈 KOSPI 지수 예측 (LSTM 시계열)

- **과거 KOSPI 데이터만을 사용**하여 예측 (감성 점수는 미사용)
- TensorFlow/Keras 기반 LSTM 모델
- 일정 기간 데이터를 학습 후 → **다음 날 종가 예측**
- 성능 평가 및 하이퍼파라미터 조정 포함

---

### 📌 실시간 데이터 처리 구조

**📦 데이터 수신/저장 (Python)**
- 키움증권 REST API로 실시간 주가 수신
- DB에 저장 후 분석/예측용으로 활용

**🌐 실시간 차트 렌더링 (JavaScript)**
- JavaScript에서 직접 키움 API 호출
- 사용자는 실시간 차트를 즉시 확인 가능

→ **데이터 수집과 UI 반영을 분리**하여 성능과 실시간성 동시 확보

---

### 📡 WebSocket 실시간 알림 및 채팅

- Python 서버 ↔ JavaScript 클라이언트 간 **양방향 통신**
- JSON 기반 메시지 처리 (`type` 필드로 알림/채팅 구분)
- 예측 알림은 하루 1회만 전송 (DB flag 컬럼으로 중복 방지)
- 메시지는 **모든 연결 클라이언트에게 Broadcast**

---

## 🛠 기술 스택

### 🧩 백엔드
- **Flask (Python)**
  API 서버 및 WebSocket 서버 구축

- **JSP (Java)**
  사용자 인터페이스 일부 연동 처리

### 🎨 프론트엔드
- **HTML, CSS, JavaScript**
  실시간 차트 렌더링 및 사용자 인터페이스 구성

### 🧠 머신러닝 모델
- **LSTM (TensorFlow/Keras)**
  KOSPI 지수 예측

- **KorFinBERT (PyTorch → TensorFlow 변환)**
  뉴스 감성 분석

### 🔍 데이터 수집
- **Selenium, BeautifulSoup**
  실시간 금융 뉴스 크롤링

### 🗄 데이터베이스
- **MySQL**
  수집 데이터 및 예측 결과 저장

### 🔄 실시간 처리
- **WebSocket (Python ↔ JavaScript)**
  실시간 예측 알림 및 채팅 기능 구현

### 🔗 외부 연동
- **키움증권 REST API**
  실시간 주가 데이터 수신

---

## ✨ 핵심 포인트

- 실시간 데이터 흐름을 고려한 **분산 처리 구조**
- 도메인 특화 모델(KorFinBERT) 도입을 통한 감성 분석 정확도 개선
- 데이터 기반 예측 결과와 감성 결과를 **동시에 시각화**
- WebSocket 기반 실시간 시스템 경험

---

## 📌 향후 개선 방향

- 예측 정확도 향상을 위한 외부 변수(뉴스 감성 점수 등) 추가 실험
- 사용자 맞춤형 뉴스 추천 기능 연계
- 종목 기반 예측으로 확장
